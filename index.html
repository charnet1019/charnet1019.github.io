<!DOCTYPE html>
<html lang="zh_CN">
    
  <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.48" />

    

<title>3day&#39;s</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="3day&#39;s"/>
<meta name="twitter:description" content=""/>

<meta property="og:title" content="3day&#39;s" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://charnet1019.github.io/" />
<meta property="og:updated_time" content="2018-09-17T18:03:14&#43;08:00"/>

    


<link rel="stylesheet" href="/css/hyde-hyde.css">
<link rel="stylesheet" href="/css/print.min.css" media="print">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

<link href="https://charnet1019.github.io/index.xml" rel="alternate" type="application/rss+xml" title="3day&#39;s" />
<link href="https://charnet1019.github.io/index.xml" rel="feed" type="application/rss+xml" title="3day&#39;s" />


</head>


    <body >
        
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://charnet1019.github.io">3day&#39;s</a>
      </span>
      
      <p class="site__description">
         Your site's description 
      </p>
    </div>
    <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/shell/">
						<span>Shell</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

    <p>
      <section class="social">
	
	
	
	&nbsp;<a href="https://github.com/charnet1019"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
</section>

    </p>
    <p class="copyright">
      &copy; 2018 .
      <a href="https://creativecommons.org/licenses/by-sa/4.0">Some Rights Reserved</a>.
      <br/>Built with
      <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
      
    </p>
  </div>
  <div>
  </div>
</div>

        <div class="content container">
            
  <div class="post-list">
    
    
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/about/">About</a>
        </span>
        <span class="item__date">
          Sep 17, 2018
        </span>
        记录工作中遇到的各种问题
        
        </div>
        
     
    
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/shell/auto-scp/">shell实现对多台服务器拷贝文件</a>
        </span>
        <span class="item__date">
          Sep 17, 2018
        </span>
        Github
#!/bin/bash ########################################################## # # Copyright (2017-10-21, ) # # Author: charnet1019@163.com # Last modified: 2017-10-22 00:06 # Description: # ########################################################## # definition IP dictionary array declare -A IPListDict # 所有主机默认使用root帐号 USERNAME=root # 本地要拷贝的文件 LOCAL=&quot;/etc/hosts&quot; # 拷贝到远程主机的位置 REMOTE=&quot;/tmp&quot; # 主机IP地址和密码，每行一个主机 IPListDict=( [192.168.2.3:22]=&quot;secret&quot; [192.168.2.4:22018]=&quot;secret&quot; ) ssh_key_base_dir=~/.ssh ssh_known_hosts=$ssh_key_base_dir/known_hosts SCP=/usr/bin/scp DATETIME=`date &quot;+%F %T&quot;` success() { printf &quot;\r$DATETIME [ \033[00;32mINFO\033[0m ]%s\n&quot; &quot;$1&quot; } warn() { printf &quot;\r$DATETIME [\033[0;33mWARNING\033[0m]%s\n&quot; &quot;$1&quot; } fail() { printf &quot;\r$DATETIME [ \033[0;31mERROR\033[0m ]%s\n&quot; &quot;$1&quot; } usage() { echo &quot;Usage: ${0##*/} {info|warn|err} MSG&quot; } log() { if [ $# -lt 2 ]; then log err &quot;Not enough arguments [$#] to log.
        
        <div class="read-more-link">
            <a href="/shell/auto-scp/">Read More…</a>
        </div>
        
        </div>
        
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/shell/auto-login/">shell实现对多台服务器免密登录</a>
        </span>
        <span class="item__date">
          Sep 17, 2018
        </span>
        Github
#!/bin/bash ########################################################## # # Copyright (2017-10-21, ) # # Author: charnet1019@163.com # Last modified: 2017-10-22 00:02 # Description: 实现ssh免密登录 # # Tips: ssh服务端需设置如下参数解决连接慢拷贝失败的问题 # IgnoreRhosts yes # GSSAPIAuthentication no # UseDNS no # ########################################################## # definition IP dictionary array declare -A IPListDict USER_NAME=&quot;root&quot; # 主机IP地址和密码，每行一个主机 IPListDict=( [192.168.2.3:22]=&quot;secret&quot; [192.168.2.4:22018]=&quot;secret&quot; ) # for ssh ssh_keygen=&quot;/usr/bin/ssh-keygen&quot; ssh_key_type=&quot;rsa&quot; ssh_pwd='' ssh_key_base_dir=~/.ssh ssh_pri_key=$ssh_key_base_dir/id_rsa ssh_pub_key=$ssh_key_base_dir/id_rsa.pub ssh_known_hosts=$ssh_key_base_dir/known_hosts ssh_copy_id=&quot;/usr/bin/ssh-copy-id&quot; DATETIME=`date &quot;+%F %T&quot;` success() { printf &quot;\r$DATETIME [ \033[00;32mINFO\033[0m ]%s\n&quot; &quot;$1&quot; } warn() { printf &quot;\r$DATETIME [\033[0;33mWARNING\033[0m]%s\n&quot; &quot;$1&quot; } fail() { printf &quot;\r$DATETIME [ \033[0;31mERROR\033[0m ]%s\n&quot; &quot;$1&quot; } usage() { echo &quot;Usage: ${0##*/} {info|warn|err} MSG&quot; } log() { if [ $# -lt 2 ]; then log err &quot;Not enough arguments [$#] to log.
        
        <div class="read-more-link">
            <a href="/shell/auto-login/">Read More…</a>
        </div>
        
        </div>
        
     
  </div>

        </div>
        

<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"
  integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy"
  crossorigin="anonymous">
</script>


    </body>
</html>
